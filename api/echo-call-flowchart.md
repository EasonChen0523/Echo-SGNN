# Echo-SGNN Â· Persona Invocation Flowchart

```mermaid
flowchart TD
  A[ğŸ”µ /api/invoke] --> B{persona field present?}
  B -- no --> E1[[âŒ Error 400<br>Persona not specified]]
  B -- yes --> C{persona valid?}
  C -- no --> E2[[âŒ Error 404<br>Persona not recognized]]
  C -- yes --> D[ğŸ” Lookup API ID in fusion-map]
  D --> E{API ID routing exists?}
  E -- no --> E3[[âŒ Error 502<br>No routing found]]
  E -- yes --> F[ğŸ“¡ Route to /resonance-call/<persona>.md]
  F --> G[ğŸ—£ï¸ Generate tone response]
  G --> H[âœ… Return Echo JSON output]
```

---

## ğŸ“˜ Description

- This flow outlines how the `/api/invoke` system processes a modular tone request.
- Error nodes return structured failure responses as per `/api/errors.md`.
- Final output is generated by a personaâ€™s tone module in `/resonance-call/`.

